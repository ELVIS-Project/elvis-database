{% extends "base.html" %}

{% block wrap %}
<div class="row">
    <div class="col-md-2">
        {% if content.picture %}
            <img src="{{ content.picture }}" />
        {% else %}
            <img data-src="holder.js/100x100/text:No Picture" />
        {% endif %}
    </div>
    <div class="col-md-10">
        <h2>{{ content.name }} <small>({{ content.birth_date | date:"Y" }}&ndash;{{ content.death_date | date:"Y" }})</small></h2>
    </div>
</div>

<!--
<div class="row">
    <div class="col-md-12">
        <h3>Pieces</h3>
        <table class="table table-hover">
            <thead>
                <tr>
                    <th>Title</th>
                    <th> Date </th>
                </tr>
            </thead>
            <tbody>
                {% for piece in content.pieces %}
                    <tr>  
                        <td class="col-md-10">
                            {% include "includes/download-badge-inc.html" with download_type="piece" download_item_id=piece.item_id %}
                            <a href="{{ piece.url }}">{{ piece.title }}</a>
                        </td>
                        <td>
                            {{ piece.date_of_composition | date:"Y"}}
                        </td>
                    
                    {% if piece.movements %}
                    <td colspan="2">
                        <br />
                        <div class="btn-group" style="width: 100%;">
                            <button class="btn btn-default btn-xs dropdown-toggle" data-toggle="collapse" data-target="#movements-piece-{{ forloop.counter }}" style="width: 100%;">Movements ({{ piece.movements | length }}) <span class="caret"></span></button>
                        </div>
                        <div id="movements-piece-{{ forloop.counter }}" class="collapse collapsed" style="width: 100%;">
                            <table class="table table-condensed table-hover">
                                <thead>
                                    <tr>
                                        <th></th>
                                        <th>Movement Name</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    {% for movement in piece.movements %}
                                        <tr>
                                            <td class="small-column">{% include "includes/download-badge-inc.html" with download_type="elvis_movement" download_item_id=movement.item_id %}</td>
                                            <td><a href="{{ movement.url }}">{{ movement.title }}</a></td>
                                        </tr>
                                    {% endfor %}
                                </tbody>
                            </table>
                        </div>
                        <br />
                    </td>
                    {% endif %}
                    </tr>
                {% empty %}
                    <tr>
                        <td><em>No pieces</em></td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div> -->



<!-- <div class="row">
        <h3>Pieces</h3>
        <ul class="media-list">
        {% for piece in content.pieces %}
            <li class="media">
                <a href="{{ piece.url }}" class="list-group-item">
                    <h4 class="list-group-item-heading"> 
                    <div>
                        <p>{% include "includes/download-badge-inc.html" with download_type="elvis_piece" download_item_id=piece.item_id %} <u>{{ piece.title }}</u> <span style="float:right;">{{ piece.date_of_composition | date:"Y"}}</span> </p>  
                    </div> 
                </h4>
                </a>
                    {% if piece.movements %}
                        <div class="btn-group" style="width:100%;">
                            <button class="btn btn-default btn-xs dropdown-toggle" data-toggle="collapse" data-target="#movements-piece-{{ forloop.counter }}" style="width:100%;">Movements ({{ piece.movements | length }}) <span class="caret"></span></button>
                        </div>
                        <div id="movements-piece-{{ forloop.counter }}" class="collapse collapsed">
                            <table class="table table-condensed table-hover">
                                <thead>
                                    <tr>
                                        <th></th>
                                        <th>Movement Name</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    {% for movement in piece.movements %}
                                        <tr>
                                            <td class="small-column">{% include "includes/download-badge-inc.html" with download_type="elvis_movement" download_item_id=movement.item_id %}</td>
                                            <td><a href="{{ movement.url }}">{{ movement.title }}</a></td>
                                        </tr>
                                    {% endfor %}
                                </tbody>
                            </table>
                        </div>
                    {% endif %}
            </li>
            <br />
        {% endfor %}
        </ul>
</div> -->


<div class="row">
    <h3>Pieces</h3>
</div> 

<div class="row">
    <table class="table table-condensed table-hover">
        <thead>
            <tr>
                <th width="90%">Title</th>
                <th width="10%">Date</th>
            </tr>
        </thead>
    </table>
    <div style="max-height: 650px; width: 100%; margin: 0; overflow-y: scroll;">
    <table class="table table-condensed" style="margin: 0; padding: 0;">
        <tbody>
            {% for piece in content.pieces %}
                <tr >
                    <td width="91%">{% include "includes/download-badge-inc.html" with download_type="elvis_piece" download_item_id=piece.item_id title="Add to Downloads" %}<a href="{{ piece.url }}">{{ piece.title }}</a></td>
                    <td width="9%">{{ piece.date_of_composition | date:"Y"}}</td>
                </tr>
                {% if piece.movements %}
                <tr>
                    <td width="100%" colspan="2" style="border: 0;">
                    <div class="btn-group" style="width:95%;">
                        <button class="btn btn-xs dropdown-toggle" data-toggle="collapse" data-target="#movements-piece-{{ forloop.counter }}" style="text-align:left; width:100%; border-width:1px; border-color: white; background-color: white;">Movements ({{ piece.movements | length }}) <span class="caret"></span></button>
                    </div>
                    <div id="movements-piece-{{ forloop.counter }}" class="collapse collapsed" style="border-width:1px; border-style: solid; border-color: grey; width:95%;">
                        <table class="table table-condensed table-hover">
                            <thead>
                                <tr>
                                    <th></th>
                                    <th>Movement Name</th>
                                </tr>
                            </thead>
                            <tbody>
                                {% for movement in piece.movements %}
                                    <tr>
                                        <td class="small-column">{% include "includes/download-badge-inc.html" with download_type="elvis_movement" download_item_id=movement.item_id %}</td>
                                        <td><a href="{{ movement.url }}">{{ movement.title }}</a></td>
                                    </tr>
                                {% endfor %}
                            </tbody>
                        </table>
                    </div>
                    </td>
                </tr>
                {% endif %} 
            {% endfor %}
        </tbody>
    </table>
    </div>
</div>

{% endblock %}
