{% extends "base.html" %}
{% load rest_framework %}
{% load filter_methods %}

{% block wrap %}

<style type="text/css">

#proj-card {
	background-color:#FFFFFF;
	-moz-box-shadow: 0 0 5px #888;
	-webkit-box-shadow: 0 0 5px#888;
	box-shadow: 0 0 5px #888;
	margin-top:10px;
	margin-bottom:10px;
	height:300px;
	width:250px;
	position:relative;
}

#inner-proj-card {
	margin-top:bottom;
	position:absolute;
	bottom:0;
	width:80%;
}

.name {
	margin-left:10px;
	margin-right:10px;
	color:#000000;
}

.descrip {
	margin-left:10px;
	margin-right:10px;
	font-weight:bold;
	color:#909090;
}

#row-cards {
	margin-left:50px;
}

.prof-pic {
	width:60px;
	height:60px;
	padding:0px;
	margin:0px;
	opacity:0.6;
	/*overflow:hidden;
	border-radius:15px;*/
}
.prof-pic:hover {
	width:60px;
	height:60px;
	padding:0px;
	margin:0px;
	opacity:1.0;
}

#pics {
	margin-bottom:10px;
	margin-top:10px;
	display:block;
	margin-left:auto;
	margin-right:auto;
}

#proj {
	font-size:.7em;
	text-align:left;
	text-decoration:underline;
}

i {
	display:block;
	margin-left:auto;
	margin-right:auto;
}

.project-url {
	color:#000000;
}

.dostuff {
    border: .3em solid #FFFFFF;
    height: 6em;
    /*width: 8em;*/
    width:100%;
    /*margin-left:50px;
    margin-top:20px;
    margin-bottom:20px;*/
    text-align: center;
    /*background:#90EE90;*/
    /*-moz-box-shadow: 0 0 5px #888;
    -webkit-box-shadow: 0 0 5px#888;
    box-shadow: 0 0 5px #888;*/
}
.inner-stuff {
    margin-top:5px;
}

.pic-grid {
	margin-left:5px;
}

.icon-plus-sign {
	padding-right:3px;
}

.overlay {
	background-color: #000;
    opacity: .7;
    filter: alpha(opacity=70);
    position: absolute; top: 0; left: 0;
    width: 100%; 
    height: 100%;
    z-index: 10;
}

.popup {
	position: absolute;
	z-index: 11;
	/*left: 25%;
	top: 10%;
	width:600px;
	height:450px;*/
	background-color:#FFFFFF;
}

</style>

<script type="text/javascript">

function expand(left, top, width, height, toLoad, modelID){
	// Create background overlay 
	var overlay = document.createElement("div");
	overlay.setAttribute("class", "overlay");
	overlay.setAttribute("id", "overlay");
	document.body.appendChild(overlay);
	// Create the popup box
	var popup = document.createElement("div");
	popup.setAttribute("class", "popup");
	popup.setAttribute("id", modelID)	// Used to access model in popup
	popup.style.top = top;
	popup.style.left = left;
	popup.style.width = width;
	popup.style.height = height;
	popup.style.borderRadius = "8px";
	document.body.appendChild(popup);
	// Append predefined html page to this div
	$(".popup").load(toLoad);
}

function close() {
	document.body.removeChild(document.getElementById("overlay"));
	document.body.removeChild(document.getElementById("popup"));
}

</script>


<!-- Display all the projects in card format in rows --> 

<div class="container-fluid">
	{% for list in projects %}
		<div class="row-fluid" id="row-cards">
		{% for project in list %}
			<div class="span3" id="proj-card">

				<!-- what to display if there are other users in the project --> 
				{% if project.users.all %}
					{% include "project/snippets/card_users.html" %}
				<!-- what to display if there are currently no other users in the project --> 
				{% else %}
					{% include "project/snippets/card_no_users.html" %}
				{% endif %}

			</div>
		{% endfor %}
		</div>
	{% endfor %}
</div>

{% endblock %}